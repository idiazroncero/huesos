// Recursively iterate over map in order to programmatically
// generate CSS Custom Properties
@mixin generate-css-var($type, $value, $name) {
  @if type-of($value) == 'map' {
    @each $nested-type, $nested-value in $value {
      $nested-name: #{$name}-#{$nested-type};
      @if $nested-type == 'base' {
        $nested-name: #{$name};
      }
      @include generate-css-var($nested-type, $nested-value, $nested-name)
    }
  }
  @else {
    --color-#{$name}: #{$value};
  }
}

:root {
  @each $type, $value in $colors {
    @include generate-css-var($type, $value, #{$type})
  };
};

[data-theme-dark] {
  @each $type, $value in $dark-colors {
    @include generate-css-var($type, $value, #{$type})
  };
}