@mixin set-link-decoration($link-decoration-data) {
  $underline : map-get($link-decoration-data, 'underline');
  $color: map-get($link-decoration-data, 'color');
  $width : map-get($link-decoration-data, 'width');

  // Redefine variables
  @if $color {
    --color-link-decoration: map-get($color, 'default');
    --color-link-decoration-hover: map-get($color, 'hover');
  }

  @if map-get($underline, 'default') {
    text-decoration:underline;
    text-decoration-thickness: map-get($width, 'default');
    text-decoration-color: var(--color-link-decoration);
  } @else if not map-get($underline, 'default') {
    text-decoration:none;
  } @else {
    @error "La estructura del mapa $link-data no es correcta";
  }

  &:hover,
  &:focus {
    @if not map-get($underline, 'hover') {
      text-decoration:none;
    } @else if map-get($underline, 'hover') {
      text-decoration:underline;
      text-decoration-thickness: map-get($width, 'hover');
      text-decoration-color: var(--color-link-decoration-hover);
    } @else {
      @error "La estructura del mapa $link-data no es correcta";
    }
  }
}

@mixin set-link($base, $visited, $hover, $active, $link-decoration-data: null) {

  @if $base {
    --color-link-default: #{$base};
  }
  @if $visited {
    --color-link-visited: #{$visited};
  }
  @if $hover {
    --color-link-focus: #{$hover};
    --color-link-hover: #{$hover};
  }
  @if $active {
    --color-link-active: #{$active};
  }

  @if $link-decoration-data {
    @include set-link-decoration($link-decoration-data);
  }
  @else if $link-decoration-data == false {
    @include kill-link-decoration();
  }
}

@mixin kill-link($color: var(--color-primary)) {
  @include ($color, $color, $color, $color, false);
  @include kill-link-decoration();
}

@mixin kill-link-decoration() {
  &, 
  &:link,
  &:visited,
  &:active,
  &:focus,
  &:hover {
    text-decoration: none;
  } 
}


@mixin kill-link-button() {
  &, 
  &:link,
  &:visited,
  &:active,
  &:focus,
  &:hover {
    text-decoration:none;
    &:after {
      display:none;
    }
  } 
}

