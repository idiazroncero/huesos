/*
Navigation menus

Either `<nav>` HTML elements or enabled via the css class `.nav`.

We don't assume a menu-style, horizontal navigation as the default. This is done by using the `.menu` component.

Instead, we only style the text and delete the bullets. The nav items' style can be controlled on `_config.scss` via a set of parameters on the Navigation section

It's supposed to hold links (try "section"), but it can also have empty elements.

It is common the need to disable partially or totally the link appearance. Use `kill-link` or `kill-link-decoration` classes or mixins for this.


Markup:
<section>
  <nav class="{{ modifier_class}} kill-link-decoration">
    <ul>
      <li>Home</li>
      <li><a href="#">Section</a></li>
      <li>Works</li>
      <li>About us</li>
      <li>Contact</li>
      <li>Exit</li>
    </ul>
  </nav>
</section>

Styleguide Base.nav
*/

nav,
.nav {
	ul {
    padding:0;
    margin:0;
    list-style-type:none;
		li {
      margin: 0 $spacer 0 0;
      font-weight: $nav-font-weight;
      @if $nav-uppercase {
        text-transform: uppercase;
      }
      @include ritmo-font-size($nav-font-size);
      letter-spacing:$nav-spacing;
      // a {
      //   @include kill-link();
      // }
		}
  }
}

/*
Menu

An horizontal menu is a component based on an extended `<nav>` or `.nav`.

Unlike the `nav`, which is a bare-bones item, the menu includes highlighting of links and a set of decoration items.

It is expected that all items on a menu are linked. Empty links can be faked by adding a `<span>` item and combined with the `.disabled` class in order to indicate a deactivated link

Submenus are handled up to the 4th level

Alignment of items can be controlled via helper classes. Defaults to "left"

.center        - Aligns the nav to the center (margin on both sides of items)
.right         - Aligns the nav to the right (margin on the right)

Markup:
<section>
  <nav class="menu {{ modifier_class }}" style="margin-bottom: 200px">
    <ul>
      <li><a href="#">Home</a></li>
      <li>
        <a href="#">Section</a>
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">Section</a></li>
            <li>
              <a href="#">Works</a>
                <ul>
                  <li><a href="#">Home</a></li>
                  <li><a href="#">Section</a></li>
                  <li><a href="#">Works</a></li>
                  <li><a href="#">About us</a></li>
                </ul>
            </li>
            <li><a href="#">About us</a></li>
          </ul>
      </li>
      <li><a href="#">Works</a></li>
      <li><a href="#">About us</a></li>
      <li><span>Contact</span></li>
      <li><span class="disabled">Exit</span></li>
    </ul>
  </nav>
</section>

Styleguide Components.menus
*/

.menu {
  @include inline-list();
  @if $menu-kill-links {
    a {
      @include kill-link-decoration();
    }
  }
  ul > li {
    margin:0;
    position:relative;
    z-index:1;
    > a {
      text-align:left; // Override any .right class
      display:block;
      padding:$menu-padding;
      white-space:nowrap;
      @if $menu-kill-links {
        @include set-link(
          get-color(text, primary),
          get-color(text, primary),
          contrast-color($menu-background-color),
          get-color(text, primary),
          false // Flag to avoid setting the link-decoration
        )
      }
    }
    &:hover,
    &:focus {
      > a {
          color: contrast-color($menu-background-color);
          background-color: $menu-background-color;
      }
    }
    > span {
      padding:$menu-padding;
    }
    // Second-level
    > ul {
      display:none;
      position:absolute;
      top:100%;
      left:0;
      z-index:2;
      min-width:120%;
      > li {
        display:block;
        position:relative;
        > a {
          display:block;
          padding:$menu-padding / 2 $menu-padding;
          white-space:nowrap;
          //color: contrast-color($menu-background-color);
          background-color: lighten($menu-background-color, 5%);
          @if $menu-kill-links {
            @include kill-link(contrast-color(lighten($menu-background-color, 5%)));
          }
          @include ritmo-font-size(0.8 * $nav-font-size);
          &:hover,
          &:focus {
            color: contrast-color(shade($menu-background-color, $color-modify-ratio));
            background-color: shade($menu-background-color, $color-modify-ratio);
          }
        }
      }
    }
    // Third-level
    > ul > li {
      > ul {
        display:none;
        position:absolute;
        top:0;
        left:100%;
        min-width:100%;
        z-index:3;
        li {
          a {
            background-color: lighten($menu-background-color, 10%);
            @if $menu-kill-links {
              @include kill-link(contrast-color(lighten($menu-background-color, 10%)));
            }
            @include ritmo-font-size(0.7 * $nav-font-size);
            &:hover,
            &:focus {
              color: contrast-color(shade($menu-background-color));
              background-color: shade($menu-background-color);
            }
          }
        }
      }
      &:hover {
        > ul {
          display:block;
        }
      }
    }
    &:hover {
      > ul {
        display:block;
        > li {
          display:block;
        }
      }
    }
  }
}

/*
TOC (Table of contents)

A toc or table of contents is a vertical menu based off a `<nav>` item.

The first level can be configured on `_config.scss`.

This is a very opinionated component. It won't let `bold` weight to pass below the first depth level, it will apply a progressive reduction of font-size and it will set uppercase from the 3rd level on.

It is common the need to disable partially or totally the link appearance. Use `kill-link` or `kill-link-decoration` classes or mixins for this.

Markup:
<section>
  <nav class="toc kill-link">
    <ul>
      <li><a href="#">Home</a></li>
      <li><a href="#">Section</a></li>
      <li>
        <a href="#">Works</a>
        <ul>
          <li>
            <a href="#">Home</a></li>
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">Section</a></li>
            </ul>
          </li>
          <li><a href="#">Section</a></li>
          <li><a href="#">Works</a></li>
          <li><a href="#">About us</a></li>
          <li><span>Contact</span></li>
          <li><span class="disabled">Exit</span></li>
        </ul>
      </li>
      <li><a href="#">About us</a></li>
      <li><span>Contact</span></li>
      <li><span class="disabled">Exit</span></li>
    </ul>
  </nav>
</section>

Styleguide Components.toc
*/

.toc {
	ul {
		li {
      margin: 0;
      font-weight: $toc-font-weight;
      letter-spacing: initial;
      @if $toc-uppercase {
        text-transform: uppercase;
      } @else {
        text-transform: initial;
      }
      @include ritmo-font-size($toc-font-size);
      // a {
      //   @include kill-link();
      // }
      ul {
        margin: $gutter / 4 0 $gutter / 2 $gutter;
        li{
          // Don't let "bold" pass through here
          font-weight: normal;
          @include ritmo-font-size(0.95 * $toc-font-size);
        }
        ul {
          li {
            @include ritmo-font-size(0.7 * $toc-font-size);
            text-transform: uppercase;
          }
        }
      }
		}
  }
}