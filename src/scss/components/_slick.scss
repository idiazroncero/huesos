// When there is more than one image displayed, 
// we show a grid. On click a lightbox with a carousel appears.

.slick {
    @extend %clearfix;
    img {
        cursor:pointer;
    }
}

.slick__item {
    position:relative;

    @include breakpoint($small) {
        float:left;
        width:33.3332%;
        margin-bottom:0;
    }

    &:hover,
    &.js-hover {
        .slick__magnify {
            opacity:1;
        }
    }
}

.slick-prev, .slick-next {
    z-index:6;
}

.slick__magnify {
    opacity:0;
    position:absolute;
    top:0;
    right:0;
    bottom:0;
    left:0;
    background-color: rgba(0,0,0,0.33);
    box-shadow: 0px 0px 15px 0px rgba(0,0,0,0.33) inset;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content: center;
    pointer-events: none;
    transition: opacity $transition-time ease-in-out;
    svg {
        width:$gutter * 2;
        fill: get-color(gray, "white");
    }
}

@supports (display:grid) {
    .slick {
        @include breakpoint($small) {
            display:grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr;
            grid-gap: $gutter;
        } 
        // reset cleafix
        &:before, &:after {
            display:none;
        }
    }

    .slick__item {
        float:none;
        width:auto;
    }
}